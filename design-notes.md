# 小程序UI/UX优化设计文档

## 产品定位
产品召回查询小程序 - 帮助用户快速查询产品批次是否被召回

## 核心用户痛点
1. **操作太复杂**：需要点击多次才能完成查询
2. **界面太丑**：缺乏设计感，不够现代
3. **效率太低**：紧急查询时不够快速

## 设计目标
1. **极简操作**：从6-7步减少到2-3步
2. **现代美学**：符合2025年设计趋势
3. **用户至上**：以效率为第一优先级

## 设计原则
### 1. 减少认知负荷
- 去掉不必要的确认弹窗
- 减少页面跳转
- 提供清晰的操作反馈

### 2. 视觉层次
- 主次分明：拍照是主要功能，应该最突出
- 使用颜色对比引导用户注意力
- 合理的留白增强可读性

### 3. 微交互
- 按钮点击反馈（缩放、透明度）
- 加载状态动画
- 成功/失败的情感化反馈

### 4. 渐进式信息披露
- 首屏只展示核心功能
- 次要功能折叠或下沉
- 按需展开详情

## 设计规范

### 配色方案
```css
/* 主色调 - 科技蓝（雀巢品牌色） */
--primary-color: #0078D7;
--primary-gradient: linear-gradient(135deg, #0078D7 0%, #005FA3 100%);

/* 成功色 */
--success-color: #52C41A;
--success-gradient: linear-gradient(135deg, #52C41A 0%, #389E0D 100%);

/* 警告色 */
--warning-color: #FF5252;
--warning-gradient: linear-gradient(135deg, #FF5252 0%, #D32F2F 100%);

/* 中性色 */
--gray-50: #FAFAFA;
--gray-100: #F5F5F5;
--gray-200: #E0E0E0;
--gray-400: #999999;
--gray-600: #666666;
--gray-800: #333333;

/* 背景色 */
--bg-primary: #F8F9FB;
--bg-secondary: #FFFFFF;

/* 阴影 */
--shadow-sm: 0 2rpx 8rpx rgba(0, 0, 0, 0.06);
--shadow-md: 0 4rpx 16rpx rgba(0, 0, 0, 0.08);
--shadow-lg: 0 8rpx 24rpx rgba(0, 120, 215, 0.15);
--shadow-xl: 0 16rpx 48rpx rgba(0, 120, 215, 0.2);
```

### 圆角规范
- 小元素：8-12rpx
- 卡片/按钮：16-24rpx
- 大容器：32rpx

### 字体规范
- 大标题：48rpx / Bold
- 中标题：36rpx / SemiBold
- 正文：28-32rpx / Regular
- 辅助文字：24rpx / Regular

### 间距规范
- 超小：8rpx
- 小：16rpx
- 中：24rpx
- 大：32rpx
- 超大：48rpx

## 用户流程优化

### 当前流程（6-7步）
```
首页 → 点击拍照按钮 → 进入相机页
→ 点击拍照按钮 → 拍照
→ 弹出确认弹窗 → 点击确认
→ 显示OCR结果弹窗 → 点击确认查询
→ 跳转结果页
```

### 优化后流程（2-3步）
```
首页 → 点击大拍照按钮 → 自动拍照+识别
→ 自动跳转结果页

或：
首页 → 点击大拍照按钮 → 进入相机页（自动对焦）
→ 点击拍照 → 自动识别+跳转结果页
```

### 核心改进
1. **首页直接拍照**：将相机功能嵌入首页，无需跳转
2. **取消多余确认**：拍照后直接识别，取消"确认照片"弹窗
3. **自动跳转**：识别成功后自动跳转结果页
4. **快捷入口**：首页保留悬浮拍照按钮，随时可用

## 视觉设计方案

### 首页布局
```
┌─────────────────────────────┐
│  顶部导航栏（品牌色渐变）         │
│  [Logo] 产品召回查询       [≡]  │
├─────────────────────────────┤
│                              │
│         ┌─────────┐          │
│         │  Logo   │          │
│         └─────────┘          │
│      快速查询产品召回状态        │
│                              │
│    ┌───────────────────┐    │
│    │                   │    │
│    │    📸 拍照识别     │    │
│    │                   │    │
│    └───────────────────┘    │
│    一键识别批次号             │
│                              │
│    ┌───────────────────┐    │
│    │   或输入批次号     │    │
│    │  [___________]    │    │
│    │      查询         │    │
│    └───────────────────┘    │
│                              │
│  📋 最近查询（最多3条）       │
│  ┌────────────────────┐     │
│  │ ABC12345  ✓ 正常   │     │
│  │ 惠氏奶粉    5分钟前 │     │
│  └────────────────────┘     │
└─────────────────────────────┘
```

### 设计亮点
1. **超大拍照按钮**：占据首页中心位置，视觉引导明确
2. **渐变背景**：使用品牌色渐变，增强科技感
3. **卡片式设计**：信息分组清晰，层次分明
4. **情感化空状态**：无查询记录时显示友好的引导
5. **浮动操作**：考虑添加悬浮拍照按钮，全局可用

## 交互细节

### 拍照流程
1. 点击拍照按钮 → 直接进入相机模式（无需跳转页面）
2. 自动对焦到中心区域（批次号通常在底部）
3. 点击屏幕任意位置拍照（或使用虚拟快门）
4. 自动调用OCR识别
5. 显示识别进度（loading动画）
6. 识别成功 → 自动跳转结果页
7. 识别失败 → 显示提示，提供重拍选项

### 手动输入流程
1. 点击输入框 → 键盘弹出
2. 输入批次号 → 实时校验格式
3. 点击查询按钮 → 跳转结果页

### 历史记录
1. 显示最近3条查询
2. 点击历史记录 → 直接跳转结果页
3. 长按 → 显示操作菜单（删除、再次查询）

## 技术实现要点

### 1. 相机嵌入首页
- 使用 `<camera>` 组件直接嵌入首页
- 通过 `wx:if` 控制显示/隐藏
- 拍照后立即隐藏相机，显示结果预览

### 2. 自动识别
- 拍照完成后直接调用OCR API
- 不需要用户确认照片
- 在等待期间显示加载动画

### 3. 性能优化
- 图片压缩：降低上传图片质量
- 请求缓存：相同批次号缓存结果
- 懒加载：历史记录按需加载

### 4. 错误处理
- 网络错误：提供重试按钮
- 识别失败：提示用户重拍
- 权限错误：引导用户授权

## 浏览器/工具参考

### 设计参考网站
- Dribbble - 小程序设计案例
- Behance - UI设计灵感
- 腾讯设计中心 - 微信小程序设计规范

### 技术参考
- 微信小程序官方文档
- WeUI - 微信官方UI组件库
- Vant Weapp - 有赞UI组件库

## 下一步行动计划
1. ✅ 创建设计文档
2. 🔄 优化首页UI（大按钮、渐变、卡片）
3. 🔄 嵌入相机功能到首页
4. 🔄 简化拍照流程（取消多余确认）
5. 🔄 优化历史记录展示
6. 🔄 添加加载动画和微交互
7. 🔄 测试和优化

## 参考链接
- 微信小程序设计指南：https://developers.weixin.qq.com/miniprogram/design/
- WeUI：https://weui.io/
- Vant Weapp：https://vant-contrib.gitee.io/vant-weapp/

---

文档创建时间：2026-02-03
创建者：AI助手
版本：v1.0
